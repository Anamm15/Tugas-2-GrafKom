<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tugas 2 Grafkom</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="main-container">
        <div class="visual-area horizontal">
    <!-- Kolom kiri: gambar referensi -->
    <div class="reference-column">
      <img src="horeg 2.jpg" alt="Referensi 1" class="reference-img" />
      <img src="horeg 3.jpg" alt="Referensi 2" class="reference-img" />
      <img src="horeg 4.jpg" alt="Referensi 3" class="reference-img" />
    </div>

    <!-- Kolom kanan: canvas -->
    <canvas id="gl-canvas" width="700" height="700"></canvas>
  </div>

      <div class="controls-panel">
        <h2><span class="emoji">üéÆ</span> Controller</h2>

        <!-- Grup 1: Transformasi -->
        <div class="control-group">
          <h3>Transformasi</h3>
          <!-- Rotasi X -->
          <div class="control-item">
            <label for="rotateX">Rotasi X</label>
            <div class="slider-container">
              <input
                type="range"
                id="rotateX"
                min="-720"
                max="720"
                value="0"
                step="1"
              />
              <span id="rotateX-val">0¬∞</span>
            </div>
          </div>
          <!-- Rotasi Y -->
          <div class="control-item">
            <label for="rotateY">Rotasi Y</label>
            <div class="slider-container">
              <input
                type="range"
                id="rotateY"
                min="-720"
                max="720"
                value="0"
                step="1"
              />
              <span id="rotateY-val">0¬∞</span>
            </div>
          </div>
          <!-- Translasi (Pan) X -->
          <div class="control-item">
            <label for="panX">Translasi X</label>
            <div class="slider-container">
              <input
                type="range"
                id="panX"
                min="-1"
                max="1"
                value="0"
                step="0.01"
              />
              <span id="panX-val">0.00</span>
            </div>
          </div>
          <!-- Translasi (Pan) Y -->
          <div class="control-item">
            <label for="panY">Translasi Y</label>
            <div class="slider-container">
              <input
                type="range"
                id="panY"
                min="-1"
                max="1"
                value="0"
                step="0.01"
              />
              <span id="panY-val">0.00</span>
            </div>
          </div>
          <!-- Skalasi -->
          <div class="control-item">
            <label for="scale">Skalasi</label>
            <div class="slider-container">
              <input
                type="range"
                id="scale"
                min="0.1"
                max="3"
                value="1"
                step="0.01"
              />
              <span id="scale-val">1.00</span>
            </div>
          </div>

          <div class="control-item">
            <label for="legAngle">Sudut Kaki (Hierarki)</label>
            <div class="slider-container">
              <input
                type="range"
                id="legAngle"
                min="15"
                max="60"
                value="30"
                step="0.5"
              />
              <span id="legAngle-val">30.0¬∞</span>
            </div>
          </div>
        </div>

        <!-- Grup 2: Viewing -->
        <div class="control-group">
          <h3>Viewing</h3>
          <div class="control-item-toggle">
            <label for="perspective">Gunakan Perspektif</label>
            <input type="checkbox" id="perspective" class="toggle-switch" />
          </div>
          <small>(Nonaktif = Orthogonal)</small>
        </div>

        <!-- Grup 3: Lighting -->
        <div class="control-group">
          <h3>Lighting Phong Model</h3>

          <!-- KONTROL WARNA BARU -->
          <div class="control-item control-item-color">
            <label for="ambientColor">Material Ambient</label>
            <input type="color" id="ambientColor" value="#000000" />
          </div>

          <div class="control-item control-item-color">
            <label for="diffuseColor">Material Diffuse</label>
            <input type="color" id="diffuseColor" value="#000000" />
          </div>

          <div class="control-item control-item-color">
            <label for="specularColor">Material Specular</label>
            <input type="color" id="specularColor" value="#ffffff" />
          </div>
          <hr class="divider" />

          <div class="control-item">
            <label for="lightX">Posisi Cahaya X</label>
            <div class="slider-container">
              <input
                type="range"
                id="lightX"
                min="-5"
                max="5"
                value="1"
                step="0.1"
              />
              <span id="lightX-val">1.0</span>
            </div>
          </div>
          <div class="control-item">
            <label for="lightY">Posisi Cahaya Y</label>
            <div class="slider-container">
              <input
                type="range"
                id="lightY"
                min="-5"
                max="5"
                value="1"
                step="0.1"
              />
              <span id="lightY-val">1.0</span>
            </div>
          </div>
          <div class="control-item">
            <label for="lightZ">Posisi Cahaya Z</label>
            <div class="slider-container">
              <input
                type="range"
                id="lightZ"
                min="-5"
                max="5"
                value="1"
                step="0.1"
              />
              <span id="lightZ-val">1.0</span>
            </div>
          </div>
          <div class="control-item">
            <label for="shininess">Shininess</label>
            <div class="slider-container">
              <input
                type="range"
                id="shininess"
                min="1"
                max="200"
                value="50"
                step="1"
              />
              <span id="shininess-val">50</span>
            </div>
          </div>
        </div>

        <!-- Grup 4: Texture -->
        <div class="control-group">
          <h3>Tekstur</h3>
          <div class="control-item-toggle">
            <label for="texture">Aktifkan Tekstur</label>
            <input type="checkbox" id="texture" class="toggle-switch" />
          </div>

          <div class="texture-controls">
            <button id="useCheckerTex" class="btn">üü¶ Checkerboard</button>
            <button id="useImageTex" class="btn">üñºÔ∏è Gambar</button>
            <br />
          </div>
          </div>

        <!-- Grup 5: Animasi -->
        <div class="control-group">
          <h3>Kontrol Animasi</h3>

          <!-- Tombol Play/Pause -->
          <!-- Pilihan Animasi -->
          <div class="control-item-toggle">
            <label for="tower-animation">
              Animasi Vertikal Tongkat
            </label>
            <input
              type="checkbox"
              id="tower-animation"
              class="toggle-switch"
              checked
            />
          </div>

          <div class="control-item-toggle">
            <label for="cube-animation">
              Animasi Rotasi Kotak
            </label>
            <input
              type="checkbox"
              id="cube-animation"
              class="toggle-switch"
              checked
            />
          </div>

          <!-- Tombol untuk memilih keduanya -->
          <div class="control-group">
            <button id="both-animation" style="margin-top: 10px">
              üé≠ Kedua Animasi
            </button>
            <button id="toggle-animation" class="btn">‚è∏Ô∏è Pause Animasi</button>
          </div>

          <div class="control-group">
            <button id="reset-button" class="btn">Reset All</button>
            
          </div>
        </div>
          
  </div>
  <div class="right-video">
    <video controls autoplay muted loop>
      <source src="video.mp4" type="video/mp4" />
      Browser Anda tidak mendukung video tag.
    </video>
    <video controls autoplay muted loop>
      <source src="video_2.mp4" type="video/mp4" />
      Browser Anda tidak mendukung video tag.
    </video>
        
      </div>
      
      
    </div>
    <!-- Bagian Deskripsi Kelompok -->
<!-- Bagian Deskripsi Kelompok -->
<div class="footer-box">
  <h3>Grafkom - Sound System</h3>
  <p>
    <strong>Anggota:</strong><br>
    Thopaz Givangkara Rosadi ‚Äì 5025231050 <br>
    Nadin Nabil Hafizh A. ‚Äì 5025231061 <br>
    Choirul Anam ‚Äì 5025231145
  </p>
<br>
  <p><strong>Pembagian tugas:</strong></p>
    <p>Thopaz Givangkara Rosadi: Pembuatan kubus, detail kecil, lingkaran, dan rotasi pada tongkat <br>
    <p>Nadin Nabil Hafizh A.: Pembuatan kaki pada tongkat, penghubung kaki, dan gerak vertikal pada tongkat <br>
    <p>Choirul Anam: Setup environment, pembuatan texture, lighting, perspective, dan detail kotak <br>


  <p><strong>Desain Tree:</strong></p>
  <img src="tree.png" alt="">
</div>


    <script id="vertex-shader" type="x-shader/x-vertex">
      #version 300 es

      in vec4 aPosition;
      in vec3 aNormal;
      in vec4 aColor;
      in vec2 aTexCoord;

      uniform vec3 uTheta;
      uniform float uScale;
      uniform vec2 uPan;
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;

      uniform vec4 uLightPosition;

      out vec3 vNormal;
      out vec3 vPosition;
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec4 vLight_EyeSpace;

      void main() {
        gl_PointSize = 5.0;
        vec3 angles = radians(uTheta);
        vec3 c = cos(angles);
        vec3 s = sin(angles);

        mat4 rx = mat4(1.0, 0.0, 0.0, 0.0,
                 0.0, c.x, s.x, 0.0,
                 0.0, -s.x, c.x, 0.0,
                 0.0, 0.0, 0.0, 1.0);

        mat4 ry = mat4(c.y, 0.0, -s.y, 0.0,
                 0.0, 1.0, 0.0, 0.0,
                 s.y, 0.0, c.y, 0.0,
                 0.0, 0.0, 0.0, 1.0);

        vec4 pos = rx * ry * aPosition;
        pos.xyz *= uScale;
        pos.xy += vec2(uPan);

        vec4 eyePos = uModelViewMatrix * pos;
        vPosition = eyePos.xyz;
        vColor = aColor;
        vTexCoord = aTexCoord;

        vNormal = normalize(mat3(uModelViewMatrix * rx * ry) * aNormal);
        vLight_EyeSpace = uModelViewMatrix * uLightPosition;
        gl_Position = uProjectionMatrix * eyePos;
      }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
      #version 300 es

      precision mediump float;

      in vec3 vNormal;
      in vec3 vPosition;
      in vec2 vTexCoord;
      in vec4 vLight_EyeSpace;

      uniform vec4 uAmbientProduct;
      uniform vec4 uDiffuseProduct;
      uniform vec4 uSpecularProduct;

      uniform float uShininess;
      uniform sampler2D uTextureMap;
      uniform bool uUseTexture;

      out vec4 fColor;

      void main() {
        vec3 N = normalize(vNormal);
        vec3 L;

        if (vLight_EyeSpace.w == 0.0) {
          L = normalize(vLight_EyeSpace.xyz);
        }
        else {
          L = normalize(vLight_EyeSpace.xyz - vPosition);
        }

        vec3 E = normalize(-vPosition);
        vec3 R = reflect(-L, N);

        vec4 ambient = uAmbientProduct;
        float Kd = max(dot(L, N), 0.0);
        vec4 diffuse = Kd * uDiffuseProduct;
        float Ks = pow(max(dot(R, E), 0.0), uShininess);
        vec4 specular = Ks * uSpecularProduct;

        if (dot(L, N) < 0.0) {
          specular = vec4(0.0);
        }

        vec4 color = ambient + diffuse + specular;
        color.a = 1.0;

        if (uUseTexture) {
          fColor = color * texture(uTextureMap, vTexCoord);
        } else {
          fColor = color;
        }
      }
    </script>

    <script src="initShaders.js"></script>
    <script src="MVnew.js"></script>
    <script src="script.js"></script>
  </body>
</html>